services:
  broadcaster1:
    image: broadcaster:latest
    restart: on-failure
    ports:
      - "9001:9090"
    command: ["./broadcaster", "-dc", "/etc/broadcaster/config-1.json"]
    volumes:
      - ./configs:/etc/broadcaster
      - ./data:/data

  broadcaster2:
    image: broadcaster:latest
    restart: on-failure
    ports:
      - "9002:9090"
    command: ["./broadcaster", "-dc", "/etc/broadcaster/config-2.json"]
    volumes:
      - ./configs:/etc/broadcaster
      - ./data:/data

  broadcaster3:
    image: broadcaster:latest
    restart: on-failure
    ports:
      - "9003:9090"
    command: ["./broadcaster", "-dc", "/etc/broadcaster/config-3.json"]
    volumes:
      - ./configs:/etc/broadcaster
      - ./data:/data


volumes:
  configs:
    driver: local
